<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="#{add.ticket.title}">Add Ticket</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}" />
    <link rel="icon" th:href="@{/icons/icon.jpg}" type="image/jpg">
    <script th:src="@{/webjars/jquery/3.6.0/jquery.min.js}"></script>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <script src="/js/bundle-add-ticket.js" defer></script>
    <script src="/js/bundle-site.js" defer></script>
    <link rel="stylesheet" href="/css/bundle-site.css">
</head>
<body class="text-black" style="background-color: #d0e3ff;">

<div th:insert="~{fragments :: navbar}"></div>

<div class="container d-flex justify-content-center align-items-center py-5">
    <div class="card text-white p-4 shadow-lg w-100" style="background-color: #A2BFFE; max-width: 500px; border-radius: 15px;">
        <h1 class="text-center mb-4" th:text="#{add.ticket.title}">Add Ticket</h1>

        <div id="errorMessage" class="alert alert-danger text-center d-none"></div>

        <form id="add-ticket-form" class="mt-3">
            <div class="mb-3">
                <label for="price" class="form-label" th:text="#{ticket.price}">Price:</label>
                <input type="number" step="0.01" id="price" name="price" class="form-control bg-light text-black" required />
            </div>

            <div class="mb-3">
                <label for="showtime" class="form-label" th:text="#{ticket.showTime}">Show Time:</label>
                <input type="datetime-local" id="showtime" name="showtime" class="form-control bg-light text-black" required />
            </div>

            <div class="mb-3">
                <label for="format" class="form-label" th:text="#{ticket.format}">Format:</label>
                <input type="text" id="format" name="format" class="form-control bg-light text-black" required />
            </div>

            <div class="mb-3">
                <label for="image" class="form-label" th:text="#{ticket.image}">Image Name:</label>
                <input type="text" id="image" name="image" class="form-control bg-light text-black" required />
            </div>

            <div class="mb-3">
                <label for="availability" class="form-label" th:text="#{ticket.availability}">Availability:</label>
                <select id="availability" name="availability" class="form-select bg-light text-black" required>
                    <option value="AVAILABLE" th:text="#{ticket.availability.available}">AVAILABLE</option>
                    <option value="RESERVED" th:text="#{ticket.availability.reserved}">RESERVED</option>
                    <option value="SOLD" th:text="#{ticket.availability.sold}">SOLD</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="movie" class="form-label" th:text="#{ticket.movie}">Movie:</label>
                <select id="movie" name="movie_id" class="form-select bg-light text-black" required>
                    <option value="" disabled selected th:text="#{ticket.select.movie}">Select a Movie</option>
                    <option th:each="movie : ${movies.movies()}" th:value="${movie.id}" th:text="${movie.title}"></option>
                </select>
            </div>

            <div class="mb-3">
                <label for="cinema" class="form-label" th:text="#{ticket.cinema}">Cinema:</label>
                <select id="cinema" name="cinema_id" class="form-select bg-light text-black" required>
                    <option value="" disabled selected th:text="#{ticket.select.cinema}">Select a Cinema</option>
                    <option th:each="cinema : ${cinemas.cinemas()}" th:value="${cinema.id}" th:text="${cinema.name}"></option>
                </select>
            </div>

            <div class="text-center">
                <button type="submit" style="background-color: #598bf8;" class="btn text-light w-100 py-2" th:text="#{add.ticket.button}">Add Ticket</button>
            </div>
        </form>
    </div>
</div>

<div th:insert="~{fragments :: footer}"></div>
</body>
</html>