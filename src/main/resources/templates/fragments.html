<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  lang=""
>
  <head>
    <meta charset="UTF-8">
    <link
      rel="stylesheet"
      th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}"
    />
    <title></title>
  </head>
  <body>
    <th:block th:fragment="navbar">
      <nav
        class="navbar navbar-expand-lg"
        style="background-color: #d0e3ff; border-bottom: 2px solid #a2bffe"
      >
        <div class="container-fluid">
          <a
            class="navbar-brand fw-bold"
            th:href="@{/home}"
            style="color: #598bf8"
          >
            My Cinema App
            <img
              th:src="@{/icons/camera-reels-fill.svg}"
              class="icon-class"
              alt="App Icon"
            >
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link link-custom" th:href="@{/cinemas}"
                >All Cinemas</a>
              </li>
              <li class="nav-item">
                <a class="nav-link link-custom" th:href="@{/movies}"
                >All Movies</a>
              </li>
              <li class="nav-item">
                <a class="nav-link link-custom" th:href="@{/tickets}"
                >All Tickets</a>
              </li>
              <li
                class="nav-item"
                th:if="${#authorization.expression('hasAnyRole(''ADMINISTRATOR'')')}"
              >
                <a class="nav-link link-custom" th:href="@{/cinemas/addcinema}"
                >Add Cinema</a>
              </li>
              <li
                class="nav-item"
                th:if="${#authorization.expression('hasAnyRole(''ADMINISTRATOR'')')}"
              >
                <a class="nav-link link-custom" th:href="@{/movies/addmovie}"
                >Add Movie</a>
              </li>
              <li class="nav-item">
                <a class="nav-link link-custom" th:href="@{/tickets/add}"
                >Add Ticket</a>
              </li>
              <li class="nav-item">
                <a class="nav-link link-custom" th:href="@{/movies/find}"
                >Find Movie</a>
              </li>

              <li class="nav-item" sec:authorize="isAuthenticated()">
                <form class="d-flex" th:action="@{/logout}" th:method="POST">
                  <button
                    type="submit"
                    class="btn text-white fw-bold"
                    style="background-color: #598bf8"
                  >
                    Logout
                  </button>
                </form>
              </li>

              <li class="nav-item" sec:authorize="!isAuthenticated()">
                <a class="nav-link link-custom" th:href="@{/login}">Login</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </th:block>

    <th:block th:fragment="footer">
      <footer
        class="text-center"
        style="background-color: #d0e3ff; border-top: 2px solid #a2bffe"
      >
        <div
          class="container d-flex justify-content-center align-items-center"
          style="height: 60px"
        >
          <p class="mb-0 text-primary fw-bold">
            &copy; 2024 My Cinema App. All rights reserved.
          </p>
        </div>
      </footer>
    </th:block>
    <script th:src="@{/webjars/bootstrap/5.3.0/js/bootstrap.bundle.min.js}"></script>
  </body>
</html>
